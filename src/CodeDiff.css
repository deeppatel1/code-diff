/* Base styles and variables */
:root {
--light-bg: #f9fafb;
--light-bg-secondary: #ffffff;
--light-text: #111827;
--light-text-secondary: #6b7280;
--light-border: #e5e7eb;
--light-hover: #f3f4f6;
--dark-bg: #111827;
--dark-bg-secondary: #1f2937;
--dark-text: #ffffff;
--dark-text-secondary: #9ca3af;
--dark-border: #374151;
--dark-hover: #374151;
--blue-500: #3b82f6;
--red-50: #fef2f2;
--red-800: #991b1b;
--red-200: #fecaca;
--red-900-30: rgba(127, 29, 29, 0.3);
--red-900-20: rgba(127, 29, 29, 0.2);
--green-50: #f0fdf4;
--green-800: #166534;
--green-200: #bbf7d0;
--green-900-30: rgba(20, 83, 45, 0.3);
--green-900-20: rgba(20, 83, 45, 0.2);
--red-500: #ef4444;
--green-500: #22c55e;
--gray-500: #6b7280;
}

/* Global styles */
* {
box-sizing: border-box;
}

body {
margin: 0;
font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',
'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',
sans-serif;
-webkit-font-smoothing: antialiased;
-moz-osx-font-smoothing: grayscale;
}

/* App container */
.app {
min-height: 100vh;
transition: all 0.3s ease;
}

.light-mode {
background-color: var(--light-bg);
color: var(--light-text);
}

.dark-mode {
background-color: var(--dark-bg);
color: var(--dark-text);
}

/* Header */
.header {
border-bottom: 1px solid;
transition: all 0.3s ease;
}

.light-mode .header {
border-color: var(--light-border);
background-color: var(--light-bg-secondary);
}

.dark-mode .header {
border-color: var(--dark-border);
background-color: var(--dark-bg-secondary);
}

.header-content {
max-width: 1280px;
margin: 0 auto;
padding: 1rem;
display: flex;
align-items: center;
justify-content: space-between;
}

.header-left {
display: flex;
align-items: center;
gap: 0.75rem;
}

.header-icon {
width: 2rem;
height: 2rem;
color: var(--blue-500);
}

.header-text h1 {
margin: 0;
font-size: 1.5rem;
font-weight: bold;
}

.header-text p {
margin: 0;
font-size: 0.875rem;
opacity: 0.7;
}

.header-controls {
display: flex;
align-items: center;
gap: 0.5rem;
}

.control-btn {
padding: 0.5rem;
border: none;
border-radius: 0.5rem;
background: transparent;
cursor: pointer;
transition: background-color 0.2s ease;
display: flex;
align-items: center;
justify-content: center;
}

.light-mode .control-btn {
color: var(--light-text);
}

.dark-mode .control-btn {
color: var(--dark-text);
}

.light-mode .control-btn:hover {
background-color: var(--light-hover);
}

.dark-mode .control-btn:hover {
background-color: var(--dark-hover);
}

.control-icon {
width: 1.25rem;
height: 1.25rem;
}

/* Main content */
.main-content {
max-width: 1600px;
margin: 0 auto;
padding: 1.5rem 1rem;
}

/* Input grid */
.input-grid {
display: grid;
grid-template-columns: 1fr;
gap: 1.5rem;
margin-bottom: 2rem;
}

@media (min-width: 1024px) {
.input-grid {
grid-template-columns: 1fr 1fr;
 }
}

/* Input panels */
.input-panel {
border: 1px solid;
border-radius: 0.5rem;
transition: all 0.3s ease;
}

.light-mode .input-panel {
border-color: var(--light-border);
background-color: var(--light-bg-secondary);
}

.dark-mode .input-panel {
border-color: var(--dark-border);
background-color: var(--dark-bg-secondary);
}

.panel-header {
display: flex;
align-items: center;
justify-content: space-between;
padding: 1rem;
border-bottom: 1px solid;
}

.light-mode .panel-header {
border-color: var(--light-border);
}

.dark-mode .panel-header {
border-color: var(--dark-border);
}

.panel-info h3 {
margin: 0;
font-weight: 600;
}

.panel-info p {
margin: 0;
font-size: 0.875rem;
opacity: 0.7;
}

/* Panel title with JSON badge */
.panel-title {
display: flex;
align-items: center;
gap: 0.5rem;
}

/* JSON badge */
.json-badge {
font-size: 0.75rem;
font-weight: 500;
padding: 0.125rem 0.5rem;
border-radius: 0.25rem;
}

.light-mode .json-badge {
background-color: var(--green-50);
color: var(--green-800);
}

.dark-mode .json-badge {
background-color: var(--green-900-30);
color: var(--green-200);
}

/* Panel buttons container */
.panel-buttons {
display: flex;
align-items: center;
gap: 0.5rem;
}

.copy-btn {
padding: 0.5rem;
border: none;
border-radius: 0.5rem;
background: transparent;
cursor: pointer;
transition: background-color 0.2s ease;
display: flex;
align-items: center;
justify-content: center;
}

.copy-btn:disabled {
opacity: 0.5;
cursor: not-allowed;
}

.light-mode .copy-btn {
color: var(--light-text);
}

.dark-mode .copy-btn {
color: var(--dark-text);
}

.light-mode .copy-btn:hover:not(:disabled) {
background-color: var(--light-hover);
}

.dark-mode .copy-btn:hover:not(:disabled) {
background-color: var(--dark-hover);
}

.copy-icon {
width: 1rem;
height: 1rem;
}

.text-input {
  width: 100%;
  height: 16rem;
  padding: 1rem;
  font-family: 'Consolas', 'Monaco', 'Andale Mono', 'Ubuntu Mono', monospace;
  font-size: 0.875rem;
  border: none; /* Keep this as 'none' for the default state */
  outline: none; /* Remove default browser outline */
  resize: none;
  background: transparent;
}

/* Add this new rule for the focus state */
.text-input:focus {
  border: 1px solid var(--blue-100); /* A visible border when focused */
  /* You might also want a subtle box-shadow for a modern feel */
  box-shadow: 0 0 0 1px rgba(0, 62, 162, 0.2); /* Light blue shadow */
}

/* Ensure the light/dark mode color changes work with the border */
.light-mode .text-input:focus {
  border-color: var(--blue-100);
  box-shadow: 0 0 0 1px rgba(0, 62, 162, 0.2);
}

.dark-mode .text-input:focus {
  border-color: var(--blue-100);
  box-shadow: 0 0 0 1px rgba(0, 62, 162, 0.2);}

/* Diff panel */
.diff-panel {
border: 1px solid;
border-radius: 0.5rem;
transition: all 0.3s ease;
}

.light-mode .diff-panel {
border-color: var(--light-border);
background-color: var(--light-bg-secondary);
}

.dark-mode .diff-panel {
border-color: var(--dark-border);
background-color: var(--dark-bg-secondary);
}

.diff-header {
display: flex;
align-items: center;
justify-content: space-between;
padding: 1rem;
border-bottom: 1px solid;
}

.light-mode .diff-header {
border-color: var(--light-border);
}

.dark-mode .diff-header {
border-color: var(--dark-border);
}

.diff-title {
display: flex;
align-items: center;
gap: 0.75rem;
}

.diff-icon {
width: 1.25rem;
height: 1.25rem;
}

.diff-title h3 {
margin: 0;
font-weight: 600;
}

.diff-count {
font-size: 0.875rem;
opacity: 0.7;
}

.diff-content {
padding: 1rem;
}

/* Diff grid layout */
.diff-grid-header {
display: grid;
grid-template-columns: 1fr 1fr;
gap: 1rem;
margin-bottom: 1rem;
padding-bottom: 0.5rem;
border-bottom: 1px solid;
}

.light-mode .diff-grid-header {
border-color: var(--light-border);
}

.dark-mode .diff-grid-header {
border-color: var(--dark-border);
}

.diff-column-header {
font-size: 0.875rem;
font-weight: 600;
}

.light-mode .diff-column-header {
color: var(--light-text-secondary);
}

.dark-mode .diff-column-header {
color: var(--dark-text-secondary);
}

.diff-grid {
display: grid;
grid-template-columns: 1fr 1fr;
gap: 1rem;
}

.diff-column {
display: flex;
flex-direction: column;
}

.diff-line-row {
display: flex;
align-items: flex-start;
}

.diff-line-row .line-number {
width: 2rem;
padding: 0.25rem 0.5rem;
text-align: center;
font-size: 0.75rem;
font-family: 'Courier New', Courier, monospace;
flex-shrink: 0;
user-select: none;
}

.light-mode .diff-line-row .line-number {
background-color: var(--light-hover);
color: var(--light-text-secondary);
}

.dark-mode .diff-line-row .line-number {
background-color: var(--dark-bg-secondary);
color: var(--dark-text-secondary);
}

.diff-line-row .line-content {
flex: 1;
padding: 0.25rem 0.5rem;
font-family: 'Courier New', Courier, monospace;
font-size: 0.875rem;
white-space: pre-wrap;
word-break: break-all;
}

/* Diff viewer */
.diff-viewer {
border-radius: 0.5rem;
}

.light-mode .diff-viewer {
background-color: var(--light-bg);
}

.dark-mode .diff-viewer {
background-color: var(--dark-bg);
}

.diff-line {
display: flex;
border-bottom: 1px solid;
}

.light-mode .diff-line {
border-color: var(--light-border);
}

.dark-mode .diff-line {
border-color: var(--dark-border);
}

.diff-line:last-child {
border-bottom: none;
}

.line-number {
width: 4rem;
padding: 0.5rem 0.75rem;
text-align: center;
font-size: 0.75rem;
font-family: 'Courier New', Courier, monospace;
}

.light-mode .line-number {
background-color: var(--light-hover);
color: var(--light-text-secondary);
}

.dark-mode .line-number {
background-color: var(--dark-bg-secondary);
color: var(--dark-text-secondary);
}

.line-content {
flex: 1;
padding: 0.5rem 0.75rem;
font-family: 'Courier New', Courier, monospace;
font-size: 0.875rem;
}

.line-content.modified {
border-left: 1px solid;
}

.light-mode .line-content.modified {
border-color: var(--light-border);
}

.dark-mode .line-content.modified {
border-color: var(--dark-border);
}

/* Diff type styling */
.line-content.removed {
background-color: var(--red-50);
color: var(--red-800);
}

.dark-mode .line-content.removed {
background-color: var(--red-900-30);
color: var(--red-200);
}

.line-content.added {
background-color: var(--green-50);
color: var(--green-800);
}

.dark-mode .line-content.added {
background-color: var(--green-900-30);
color: var(--green-200);
}

.line-content.modified.original {
background-color: var(--red-50);
color: var(--red-800);
}

.dark-mode .line-content.modified.original {
background-color: var(--red-900-20);
color: var(--red-200);
}

.line-content.modified.modified {
background-color: var(--green-50);
color: var(--green-800);
}

.dark-mode .line-content.modified.modified {
background-color: var(--green-900-20);
color: var(--green-200);
}

.highlight {
font-weight: 600;
}

/* Unified view */
.line-content.unified {
flex: 1;
}

.unified-line {
padding: 0.5rem 0.75rem;
font-family: 'Courier New', Courier, monospace;
font-size: 0.875rem;
}

.unified-line.removed {
background-color: var(--red-50);
color: var(--red-800);
}

.dark-mode .unified-line.removed {
background-color: var(--red-900-30);
color: var(--red-200);
}

.unified-line.added {
background-color: var(--green-50);
color: var(--green-800);
}

.dark-mode .unified-line.added {
background-color: var(--green-900-30);
color: var(--green-200);
}

.line-prefix {
margin-right: 0.5rem;
}

.removed-prefix {
color: var(--red-500);
}

.added-prefix {
color: var(--green-500);
}

.equal-prefix {
color: var(--gray-500);
}

/* Empty state */
.empty-state {
text-align: center;
padding: 3rem 0;
color: var(--gray-500);
}

.empty-icon {
width: 3rem;
height: 3rem;
margin: 0 auto 1rem;
opacity: 0.5;
}

.empty-state p {
margin: 0;
}

/* Toast */
.toast {
position: fixed;
bottom: 1rem;
right: 1rem;
z-index: 50;
}

.toast-content {
padding: 0.5rem 1rem;
border-radius: 0.5rem;
box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
transition: all 0.3s ease;
}

.light-mode .toast-content {
background-color: var(--light-bg-secondary);
color: var(--light-text);
border: 1px solid var(--light-border);
}

.dark-mode .toast-content {
background-color: var(--dark-bg-secondary);
color: var(--dark-text);
}

/* Responsive design */
@media (max-width: 768px) {
.header-content {
flex-direction: column;
gap: 1rem;
align-items: flex-start;
 }

.header-controls {
align-self: flex-end;
 }

.main-content {
padding: 1rem;
 }

.input-grid {
gap: 1rem;
 }

.diff-grid {
grid-template-columns: 1fr;
gap: 2rem;
 }

.diff-grid-header {
grid-template-columns: 1fr;
gap: 1rem;
 }

.panel-buttons {
flex-wrap: wrap;
 }
}